import{_ as u,o as c,c as i,t as y,g as l,a as s,w as f,d as v,F as $,r as B,h as p,i as k,f as m,j as w,e as x}from"./index-21b383b3.js";const F={props:{contact:{type:Object,required:!0}},created(){}};function L(n,t,r,_,a,o){return c(),i("h4",null,y(r.contact.name),1)}const N=u(F,[["render",L]]),R={props:{contacts:{type:Array,required:!0}},data(){return{filterBy:""}},created(){},methods:{onRemoveContact(n){this.$emit("remove",n)},onFilterBy(){this.$emit("filterBy",this.filterBy)}},components:{ContactPreview:N}},b={class:"contact-list"},g={class:"list-header"},V=s("h2",null,"Contacts",-1),P={class:"search"},j=["onClick"],q={class:"actions"},A=["onClick"];function D(n,t,r,_,a,o){const d=l("ContactPreview"),h=l("RouterLink");return c(),i("section",b,[s("div",g,[V,s("div",P,[f(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.filterBy=e),name:"txt",placeholder:"Search",type:"text",onInput:t[1]||(t[1]=(...e)=>o.onFilterBy&&o.onFilterBy(...e))},null,544),[[v,a.filterBy]])]),s("button",{onClick:t[2]||(t[2]=e=>this.$router.push("/contact/edit"))},"Add Contact")]),(c(!0),i($,null,B(r.contacts,e=>(c(),i("div",{onClick:C=>this.$router.push(`/contact/${e._id}`),class:"contact-preview",key:e._id},[p(d,{contact:e},null,8,["contact"]),s("section",q,[p(h,{to:`/contact/edit/${e._id}`},{default:k(()=>[s("button",{onClick:t[3]||(t[3]=m(()=>{},["stop"]))},"Edit")]),_:2},1032,["to"]),s("button",{onClick:m(C=>o.onRemoveContact(e._id),["stop"])},"x",8,A)])],8,j))),128))])}const E=u(R,[["render",D]]),I={data(){return{filterBy:{name:"s"}}},async created(){this.loadNewContacts()},methods:{async removeContact(n){this.$store.dispatch({type:"removeContact",contactId:n})},loadNewContacts(n){this.$store.dispatch({type:"loadContacts",filterBy:n})}},computed:{contacts(){return this.$store.getters.contacts}},components:{ContactList:E}};function M(n,t,r,_,a,o){const d=l("ContactList");return o.contacts?(c(),w(d,{key:0,onFilterBy:o.loadNewContacts,contacts:o.contacts,onRemove:o.removeContact},null,8,["onFilterBy","contacts","onRemove"])):x("",!0)}const O=u(I,[["render",M]]);export{O as default};
